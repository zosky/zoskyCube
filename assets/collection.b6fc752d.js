import{_ as z,c as h,j as b,a as n,b as o,u as r,t as a,m as I,v as A,p as x,z as Z,F as w,r as D,f as j,q as U,o as i,n as V}from"./index.a096edd2.js";const W={class:"mx-auto p-4"},E={key:0,class:"text-center py-8"},P={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},B={key:2},H={class:"mb-6 flex flex-row-reverse gap-4 items-center"},$=["value"],G={class:"mb-4 text-sm text-gray-400"},R={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3"},F={class:"aspect-video bg-gray-700 overflow-hidden relative"},J=["src","alt"],Q={class:"absolute bottom-0 left-0 right-0 bg-black/75 p-1 leading-none border-t border-sky-400"},q={class:"flex justify-between items-center -mb-1"},O=["title"],Y={class:"flex justify-between items-center text-xs -mt-1"},K={class:"flex items-center gap-1 text-gray-300"},X={class:"text-blue-400"},ee={key:0,class:"text-center py-12 text-gray-400"},te={__name:"collection",setup(se){const M=U("gameStore"),{isLoading:N,error:_,steamLibrary:S}=M,p=h(()=>{const s=S.value||[];console.log(`Total items from steamLibrary: ${s.length}`);const t=s.filter(l=>l.private);console.log(`Private items found: ${t.length}`),t.length>0&&console.log("First 10 private items:",t.slice(0,10).map(l=>({name:l.name,appID:l.appID,private:l.private,privateType:typeof l.private,privateValue:JSON.stringify(l.private)})));const e=s.filter(l=>!l.private);console.log(`Public items after filtering: ${e.length}`);const v=e.filter(l=>!l.appID),m=e.filter(l=>!l.name);return console.log(`Items without appID: ${v.length}`),console.log(`Items without name: ${m.length}`),e.sort((l,u)=>new Date(u.Timestamp)-new Date(l.Timestamp))}),L=h(()=>{const s=new Set;return p.value.forEach(t=>{t.store&&s.add(t.store)}),Array.from(s).sort()}),d=b(""),c=b(""),f=h(()=>{let s=p.value;if(d.value){const t=d.value.toLowerCase();s=s.filter(e=>{var u,g,y;const v=e!=null&&e.name?(u=e.name)==null?void 0:u.toLowerCase().includes(t):null,m=e!=null&&e.store?(g=e==null?void 0:e.store)==null?void 0:g.toLowerCase().includes(t):null,l=e!=null&&e.note?(y=e==null?void 0:e.note)==null?void 0:y.toLowerCase().includes(t):null;return!!(v||m||l)})}return c.value&&(s=s.filter(t=>t.store===c.value)),s});function k(s){return s?`https://steamcdn-a.akamaihd.net/steam/apps/${s}/header.jpg`:"/placeholder-game.jpg"}function C(s){if(!s)return"Unknown";const t=new Date(s);return isNaN(t.getTime())?"Invalid Date":t.toLocaleDateString("en-US",{year:"2-digit",month:"short",day:"2-digit"})}function T(s){s.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDYwIiBoZWlnaHQ9IjIxNSIgdmlld0JveD0iMCAwIDQ2MCAyMTUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0NjAiIGhlaWdodD0iMjE1IiBmaWxsPSIjMzc0MTUxIi8+CjxwYXRoIGQ9Ik0yMzAgMTA3LjVMMjEwIDg3LjVMMjUwIDg3LjVMMjMwIDEwNy41WiIgZmlsbD0iIzZCNzI4MCIvPgo8L3N2Zz4K"}return(s,t)=>(i(),n("div",W,[t[5]||(t[5]=o("div",{class:"mb-6"},null,-1)),r(N)?(i(),n("div",E,[...t[2]||(t[2]=[o("p",null,"Loading collection...",-1)])])):r(_)?(i(),n("div",P,a(r(_)),1)):(i(),n("div",B,[o("div",H,[I(o("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>x(d)?d.value=e:null),type:"search",placeholder:"Search games...",class:"border-blue-900 bg-transparent flex-1 p-2 border rounded shadow focus:outline-none focus:ring"},null,512),[[A,r(d)]]),I(o("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>x(c)?c.value=e:null),class:"border-blue-900 bg-transparent p-2.5 border rounded shadow focus:outline-none focus:ring"},[t[3]||(t[3]=o("option",{value:""},"All Stores",-1)),(i(!0),n(w,null,D(r(L),e=>(i(),n("option",{key:e,value:e},a(e),9,$))),128))],512),[[Z,r(c)]])]),o("div",G," Showing "+a(r(f).length)+" of "+a(r(p).length)+" games ",1),o("div",R,[(i(!0),n(w,null,D(r(f),e=>(i(),n("div",{key:e.appID,class:"bg-gray-800 rounded-lg overflow-hidden duration-200 relative shadow-md shadow-sky-500 hover:scale-110 transition-all"},[o("div",F,[o("img",{src:k(e.appID),alt:e.name,class:"w-full h-full object-fit",loading:"lazy",onError:T},null,40,J),o("div",Q,[o("div",q,[o("h3",{class:"font-semibold text-sm line-clamp-1 text-white flex-1 mr-2",title:e.name},a(e.name),9,O),e.discount?(i(),n("span",{key:0,class:V(["font-medium text-xs",{"text-red-400":e.discount.includes("-")}]),title:"esotaric & estimated % saved"},a(e.discount),3)):j("",!0)]),o("div",Y,[o("div",K,[o("span",null,a(C(e.Timestamp)),1)]),o("div",X,a(e.store||"N/A"),1)])])])]))),128))]),r(f).length===0?(i(),n("div",ee,[...t[4]||(t[4]=[o("p",{class:"text-lg"},"No games found",-1),o("p",{class:"text-sm"},"Try adjusting your search or filter criteria",-1)])])):j("",!0)]))]))}},le=z(te,[["__scopeId","data-v-cf189af1"]]);export{le as default};
