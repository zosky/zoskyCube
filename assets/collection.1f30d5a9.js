import{_ as z,B as U,c as h,r as b,b as n,d as o,g as r,t as a,h as I,v as V,i as x,Y as W,F as w,q as D,j,y as i,n as B}from"./index.be84e892.js";import{b as M}from"./route-block.6a611cbf.js";const E={class:"mx-auto p-4"},P={key:0,class:"text-center py-8"},H={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},$={key:2},G={class:"mb-6 flex flex-row-reverse gap-4 items-center"},R=["value"],F={class:"mb-4 text-sm text-gray-400"},J={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3"},Q={class:"aspect-video bg-gray-700 overflow-hidden relative"},Y=["src","alt"],q={class:"absolute bottom-0 left-0 right-0 bg-black/75 p-1 leading-none border-t border-sky-400"},O={class:"flex justify-between items-center -mb-1"},K=["title"],X={class:"flex justify-between items-center text-xs -mt-1"},ee={class:"flex items-center gap-1 text-gray-300"},te={class:"text-blue-400"},se={key:0,class:"text-center py-12 text-gray-400"},N={__name:"collection",setup(oe){const S=U("gameStore"),{isLoading:L,error:y,steamLibrary:k}=S,p=h(()=>{const s=k.value||[];console.log(`Total items from steamLibrary: ${s.length}`);const t=s.filter(l=>l.private);console.log(`Private items found: ${t.length}`),t.length>0&&console.log("First 10 private items:",t.slice(0,10).map(l=>({name:l.name,appID:l.appID,private:l.private,privateType:typeof l.private,privateValue:JSON.stringify(l.private)})));const e=s.filter(l=>!l.private);console.log(`Public items after filtering: ${e.length}`);const v=e.filter(l=>!l.appID),m=e.filter(l=>!l.name);return console.log(`Items without appID: ${v.length}`),console.log(`Items without name: ${m.length}`),e.sort((l,u)=>new Date(u.Timestamp)-new Date(l.Timestamp))}),C=h(()=>{const s=new Set;return p.value.forEach(t=>{t.store&&s.add(t.store)}),Array.from(s).sort()}),d=b(""),c=b(""),f=h(()=>{let s=p.value;if(d.value){const t=d.value.toLowerCase();s=s.filter(e=>{var u,g,_;const v=e!=null&&e.name?(u=e.name)==null?void 0:u.toLowerCase().includes(t):null,m=e!=null&&e.store?(g=e==null?void 0:e.store)==null?void 0:g.toLowerCase().includes(t):null,l=e!=null&&e.note?(_=e==null?void 0:e.note)==null?void 0:_.toLowerCase().includes(t):null;return!!(v||m||l)})}return c.value&&(s=s.filter(t=>t.store===c.value)),s});function T(s){return s?`https://steamcdn-a.akamaihd.net/steam/apps/${s}/header.jpg`:"/placeholder-game.jpg"}function A(s){if(!s)return"Unknown";const t=new Date(s);return isNaN(t.getTime())?"Invalid Date":t.toLocaleDateString("en-US",{year:"2-digit",month:"short",day:"2-digit"})}function Z(s){s.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDYwIiBoZWlnaHQ9IjIxNSIgdmlld0JveD0iMCAwIDQ2MCAyMTUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0NjAiIGhlaWdodD0iMjE1IiBmaWxsPSIjMzc0MTUxIi8+CjxwYXRoIGQ9Ik0yMzAgMTA3LjVMMjEwIDg3LjVMMjUwIDg3LjVMMjMwIDEwNy41WiIgZmlsbD0iIzZCNzI4MCIvPgo8L3N2Zz4K"}return(s,t)=>(i(),n("div",E,[t[5]||(t[5]=o("div",{class:"mb-6"},null,-1)),r(L)?(i(),n("div",P,[...t[2]||(t[2]=[o("p",null,"Loading collection...",-1)])])):r(y)?(i(),n("div",H,a(r(y)),1)):(i(),n("div",$,[o("div",G,[I(o("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>x(d)?d.value=e:null),type:"search",placeholder:"Search games...",class:"border-blue-900 bg-transparent flex-1 p-2 border rounded shadow focus:outline-none focus:ring"},null,512),[[V,r(d)]]),I(o("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>x(c)?c.value=e:null),class:"border-blue-900 bg-transparent p-2.5 border rounded shadow focus:outline-none focus:ring"},[t[3]||(t[3]=o("option",{value:""},"All Stores",-1)),(i(!0),n(w,null,D(r(C),e=>(i(),n("option",{key:e,value:e},a(e),9,R))),128))],512),[[W,r(c)]])]),o("div",F," Showing "+a(r(f).length)+" of "+a(r(p).length)+" games ",1),o("div",J,[(i(!0),n(w,null,D(r(f),e=>(i(),n("div",{key:e.appID,class:"bg-gray-800 rounded-lg overflow-hidden duration-200 relative shadow-md shadow-sky-500 hover:scale-110 transition-all"},[o("div",Q,[o("img",{src:T(e.appID),alt:e.name,class:"w-full h-full object-fit",loading:"lazy",onError:Z},null,40,Y),o("div",q,[o("div",O,[o("h3",{class:"font-semibold text-sm line-clamp-1 text-white flex-1 mr-2",title:e.name},a(e.name),9,K),e.discount?(i(),n("span",{key:0,class:B(["font-medium text-xs",{"text-red-400":e.discount.includes("-")}]),title:"esotaric & estimated % saved"},a(e.discount),3)):j("",!0)]),o("div",X,[o("div",ee,[o("span",null,a(A(e.Timestamp)),1)]),o("div",te,a(e.store||"N/A"),1)])])])]))),128))]),r(f).length===0?(i(),n("div",se,[...t[4]||(t[4]=[o("p",{class:"text-lg"},"No games found",-1),o("p",{class:"text-sm"},"Try adjusting your search or filter criteria",-1)])])):j("",!0)]))]))}};typeof M=="function"&&M(N);const re=z(N,[["__scopeId","data-v-8c655c8a"]]);export{re as default};
