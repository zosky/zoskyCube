import{_ as $,k as S,c as G,a as o,b as a,u as l,f as i,t as p,F as x,r as b,q as N,o as n}from"./index.a096edd2.js";const D={class:"p-2"},E={key:0,class:"text-center"},L={key:1,class:"text-center text-red-500"},j={key:2,class:"grid grid-cols-1 md:flex md:flex-row flex-wrap gap-4"},F={class:"text-sm font-semibold mb-2"},K={class:"space-y-2"},M={class:"absolute -top-1 -left-3 bg-blue-900 rounded-xl px-2 text-xs"},C=["src"],V={class:"absolute -bottom-1 -right-2"},q={key:0,class:"text-2xl"},O={__name:"winning",setup(T){const _=N("gameStore"),{winningGames:h,steamNames:y,isLoading:g,error:m}=_;S(()=>{_.fetchData()});const v=t=>{if(t>3&&t<21)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`;default:return`${t}th`}},w=G(()=>{if(!h.value.length)return{};const t={};h.value.forEach(e=>{const s=new Date(e.Timestamp),u=s.getFullYear(),k=s.getMonth(),B=s.getDate(),c=`${u}-${String(k+1).padStart(2,"0")}`;t[c]||(t[c]={monthName:s.toLocaleString("default",{month:"long",year:"numeric"}),games:[]});const f=t[c].games.find(I=>I.steamId===e.steamId);f?f.completedByBoth=!0:t[c].games.push({steamId:e.steamId,name:y.value[e.steamId]||`Unknown Game (${e.steamId})`,day:B,completedByBoth:!1})});for(const e in t)t[e].games.sort((s,u)=>s.day-u.day);const r=Object.keys(t).sort().reverse(),d={};return r.forEach(e=>{d[e]=t[e]}),d});return(t,r)=>(n(),o("div",D,[r[1]||(r[1]=a("h1",{class:"text-2xl font-bold mt-8 mb-1"},"Completed Games",-1)),l(g)?(n(),o("div",E,[...r[0]||(r[0]=[a("p",null,"Loading...",-1)])])):i("",!0),l(m)?(n(),o("div",L,[a("p",null,"Error loading data: "+p(l(m)),1)])):i("",!0),!l(g)&&!l(m)?(n(),o("div",j,[(n(!0),o(x,null,b(l(w),(d,e)=>(n(),o("div",{key:e,class:"bg-gray-800 p-2 rounded-lg shadow-lg border-2 border-blue-500/50 inline-block w-full md:w-40 mb-4"},[a("h2",F,p(d.monthName),1),a("ul",K,[(n(!0),o(x,null,b(d.games,s=>(n(),o("li",{key:s.steamId,class:"relative"},[a("span",M,p(v(s.day)),1),a("img",{src:`https://steamcdn-a.akamaihd.net/steam/apps/${s.steamId}/header.jpg`,class:"w-full h-auto rounded"},null,8,C),a("div",V,[s.completedByBoth?(n(),o("span",q," \u{1F465} ")):i("",!0)])]))),128))])]))),128))])):i("",!0)]))}},W=$(O,[["__scopeId","data-v-0b013890"]]);export{W as default};
