import{_ as w,j as S,c as _,a as d,u,b as t,e as k,t as o,F as g,r as c,d as v,o as r,n as M,f as y,E as j}from"./index.a096edd2.js";const D={class:"p-5 max-w-6xl mx-auto font-sans"},A={key:0,class:"text-center py-12"},$={key:1,class:"space-y-3"},L={class:"bg-gradient-to-br pt-4 rounded-xl mt-5"},T={class:"flex flex-row align-top gap-1"},H={class:"text-4xl font-bold -mt-3"},O={class:""},N={class:"text-sm -mt-1 mb-3 opacity-50 px-0.5"},V={id:"stats"},z={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3"},B={id:"games"},E={class:"grid grid-cols-1 lg:grid-cols-2 gap-3"},F={class:"text-xl font-semibold text-blue-100 text-left -mt-5 -mx-5 px-5 py-1 bg-black bg-opacity-50 mb-4 rounded-t-xl"},G={class:"stats grid grid-cols-4 gap-2 mb-3"},P={key:0,class:"mt-4 pt-4 border-t border-gray-500"},W={class:"flex flex-wrap gap-2"},I={key:1,class:"mt-4 pt-4 border-t border-gray-500"},R={class:"flex flex-col gap-1"},U={class:"capitalize"},Z={class:"font-bold text-red-600"},q={__name:"halo",setup(J){const n=S(null);fetch("https://corsproxy.io/?https://wort.gg/api/stats/zoskyb/campaign").then(i=>i.json()).then(i=>{n.value=i});const h=_(()=>{var m,x;if(!((x=(m=n.value)==null?void 0:m.player_details)!=null&&x.last_updated))return"";const i=new Date(n.value.player_details.last_updated),p=new Date-i,l=Math.floor(p/(1e3*60)),e=Math.floor(p/(1e3*60*60)),a=Math.floor(p/(1e3*60*60*24));return l<60?`${l} minute${l!==1?"s":""} ago`:e<24?`${e} hour${e!==1?"s":""} ago`:`${a} day${a!==1?"s":""} ago`}),f=i=>{const s=Math.floor(i/1e3),p=Math.floor(s/3600),l=Math.floor(s%3600/60);return`${p}h ${l}m`},b=i=>Object.values(i).some(s=>typeof s=="object"&&s!==null?b(s):s>0),C=_(()=>{var p,l,e;if(!((e=(l=(p=n.value)==null?void 0:p.stats)==null?void 0:l.Campaign)!=null&&e.Campaign))return[];const i=n.value.stats.Campaign.Campaign,s=[];return Object.keys(i).forEach(a=>{if(a==="All")return;const m=i[a];m.Stats&&b(m.Stats)&&s.push({name:a,stats:m.Stats,missions:m.MissionsCompleted||{},weapons:m.Weapons||{}})}),s});return(i,s)=>{const p=j;return r(),d("div",D,[u(n)?(r(),d("div",$,[t("div",L,[t("div",T,[t("div",H,[k(p,{class:"h-20"})]),t("div",O,[s[1]||(s[1]=t("h1",{class:"text-4xl font-bold"},"MCC Campaign Stats",-1)),t("p",N,"Last updated: "+o(u(h))+".",1)])]),s[2]||(s[2]=t("div",null,null,-1))]),t("div",V,[s[9]||(s[9]=t("h3",null,"\u{1F4CA} Overall Campaigns",-1)),t("div",z,[t("article",null,[t("div",null,o(u(n).stats.Campaign.Campaign.All.Stats.kills.toLocaleString()),1),s[3]||(s[3]=t("label",null,"Total Kills",-1))]),t("article",null,[t("div",null,o(u(n).stats.Campaign.Campaign.All.Stats.deaths.toLocaleString()),1),s[4]||(s[4]=t("label",null,"Deaths",-1))]),t("article",null,[t("div",null,o(u(n).stats.Campaign.Campaign.All.Stats.missions_completed),1),s[5]||(s[5]=t("label",null,"Missions Completed",-1))]),t("article",null,[t("div",null,o(f(u(n).stats.Campaign.Campaign.All.Stats.time_played_MS)),1),s[6]||(s[6]=t("label",null,"Time Played",-1))]),t("article",null,[t("div",null,o((u(n).stats.Campaign.Campaign.All.Stats.kills/u(n).stats.Campaign.Campaign.All.Stats.deaths).toFixed(2)),1),s[7]||(s[7]=t("label",null,"K/D Ratio",-1))]),t("article",null,[t("div",null,o(u(n).stats.minutes_played)+" min",1),s[8]||(s[8]=t("label",null,"Total Minutes",-1))])])]),t("div",B,[s[16]||(s[16]=t("h3",null,"\u{1F3AF} Game Progress",-1)),t("div",E,[(r(!0),d(g,null,c(u(C),l=>(r(),d("div",{key:l.name,class:"rounded-xl p-5 bg-gradient-to-tl from-transparent to-blue-800 shadow-md shadow-blue-900 bg-black"},[t("h4",F,o(l.name.replace("Halo","Halo ")),1),t("div",G,[t("div",null,[t("div",null,o(l.stats.kills.toLocaleString()),1),s[10]||(s[10]=t("span",null,"Kills",-1))]),t("div",null,[t("div",null,o(l.stats.deaths),1),s[11]||(s[11]=t("span",null,"Deaths",-1))]),t("div",null,[t("div",null,o(l.stats.missions_completed),1),s[12]||(s[12]=t("span",null,"Missions",-1))]),t("div",null,[t("div",null,o(f(l.stats.time_played_MS)),1),s[13]||(s[13]=t("span",null,"Time",-1))])]),Object.values(l.missions).some(e=>e>0)?(r(),d("div",P,[s[14]||(s[14]=t("h5",{class:"text-base font-semibold text-gray-400 mb-3"},"Completed Missions:",-1)),t("div",W,[(r(!0),d(g,null,c(l.missions,(e,a)=>(r(),d("span",{key:a,class:M(["px-3 py-1 rounded-full text-xs capitalize",e==0?"bg-yellow-300 text-black opacity-20 hover:opacity-100":"bg-blue-800 text-white order-first"])},o(a.replace(/^H\d+?_/,"").replace(/_/g," ")),3))),128))])])):y("",!0),l.weapons&&Object.values(l.weapons).some(e=>e>0)?(r(),d("div",I,[s[15]||(s[15]=t("h5",{class:"text-base font-semibold text-gray-400 mb-3"},"Top Weapons:",-1)),t("div",R,[(r(!0),d(g,null,c(Object.entries(l.weapons).filter(([e,a])=>a>0).sort((e,a)=>a[1]-e[1]).slice(0,3),([e,a])=>(r(),d("div",{key:e,class:"flex justify-between items-center px-3 py-1 bg-white bg-opacity-10 rounded text-sm"},[t("span",U,o(e.replace(/_/g," ")),1),t("span",Z,o(a),1)]))),128))])])):y("",!0)]))),128))])])])):(r(),d("div",A,[...s[0]||(s[0]=[t("h1",{class:"text-3xl font-bold"},"Loading Halo MCC Stats...",-1)])])),s[17]||(s[17]=t("div",{class:"px-3 m-2 text-center text-xs opacity-75"},[t("em",null,[v("powered by "),t("a",{href:"https://wort.gg"},"wort.gg"),v(" & "),t("a",{href:"https://corsproxy.io"},"corsproxy.io")])],-1))])}}},Q=w(q,[["__scopeId","data-v-d2b77d6d"]]);export{Q as default};
